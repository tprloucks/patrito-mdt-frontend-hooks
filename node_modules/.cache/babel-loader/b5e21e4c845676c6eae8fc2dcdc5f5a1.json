{"ast":null,"code":"var _jsxFileName = \"/Users/michael/Desktop/code-immersives-true/patrito-mdt-frontend-hooks/src/components/Auth/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Grid, Button, TextField, CircularProgress, Snackbar } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport useChangeInputConfig from \"../hooks/useInput\";\nimport useFetchAPI from \"../hooks/useFetchAPI\";\nimport CheckAuthCookie from \"../hooks/checkAuthCookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport(\"./Auth.css\");\n\nfunction Auth(props) {\n  _s();\n\n  // console.log(props);\n  // console.log(props.match);\n  let isLoginRoute = props.match.path === \"/login\";\n  let buttonTitle = isLoginRoute ? \"Login\" : \"Sign up\";\n  let apiURL = isLoginRoute ? \"/users/login\" : \"/users/create-user\";\n  const {\n    checkIfCookieExists\n  } = CheckAuthCookie();\n  const [{\n    isLoading,\n    response,\n    error,\n    setResponse\n  }, handleAPICallButtonSubmit, isMessageOpen,, handleMessageClose, successMessageValue] = useFetchAPI(apiURL);\n  const [email, handleEmailChange, isEmailError, emailErrorMessage, isEmailDisbaled, clearEmailInput] = useChangeInputConfig(\"email\");\n  const [username, handleUsernameChange, isUsernameError, usernameErrorMessage, isUsernameDisbaled, clearUsernameInput] = useChangeInputConfig(\"username\");\n  const [password, handlePasswordChange, isPasswordError, passwordErrorMessage, isPasswordDisbaled, clearPasswordInput] = useChangeInputConfig(\"password\");\n\n  function handleOnSubmit(e) {\n    e.preventDefault();\n    const user = isLoginRoute ? {\n      email,\n      password\n    } : {\n      email,\n      username,\n      password\n    };\n    handleAPICallButtonSubmit({\n      method: \"post\",\n      data: { ...user\n      }\n    });\n  }\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }, this);\n  }\n\n  function errorMessage() {\n    return /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: isMessageOpen,\n      autoHideDuration: 6000,\n      onClose: handleMessageClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n  function successMessage() {\n    return /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: isMessageOpen,\n      autoHideDuration: 6000,\n      onClose: handleMessageClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        children: successMessageValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (response === \"user created\") {\n    clearEmailInput();\n    clearUsernameInput();\n    clearPasswordInput();\n    setResponse(null);\n  }\n\n  if (checkIfCookieExists()) {\n    props.history.push(\"/protected\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: \"AUTHORIZED LAW ENFORCEMENT USE ONLY!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"accesspanel\",\n      onSubmit: handleOnSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"litheader\",\n        children: \"PATRIOT CAD SYSTEMS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inset\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            id: \"email\",\n            placeholder: \"Email address\",\n            value: email,\n            onChange: handleEmailChange,\n            style: {\n              color: \"green\"\n            },\n            helperText: emailErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            placeholder: \"Access code\",\n            value: password,\n            onChange: handlePasswordChange,\n            style: {\n              color: \"green\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorMessage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"loginLoginValue\",\n          type: \"hidden\",\n          name: \"service\",\n          defaultValue: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p-container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          name: \"Login\",\n          id: \"go\",\n          defaultValue: \"Authorize\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Auth, \"aY4nsONkmgVQrvzhghi1nt6HVws=\", false, function () {\n  return [useFetchAPI, useChangeInputConfig, useChangeInputConfig, useChangeInputConfig];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/michael/Desktop/code-immersives-true/patrito-mdt-frontend-hooks/src/components/Auth/Auth.js"],"names":["React","Grid","Button","TextField","CircularProgress","Snackbar","MuiAlert","useChangeInputConfig","useFetchAPI","CheckAuthCookie","Auth","props","isLoginRoute","match","path","buttonTitle","apiURL","checkIfCookieExists","isLoading","response","error","setResponse","handleAPICallButtonSubmit","isMessageOpen","handleMessageClose","successMessageValue","email","handleEmailChange","isEmailError","emailErrorMessage","isEmailDisbaled","clearEmailInput","username","handleUsernameChange","isUsernameError","usernameErrorMessage","isUsernameDisbaled","clearUsernameInput","password","handlePasswordChange","isPasswordError","passwordErrorMessage","isPasswordDisbaled","clearPasswordInput","handleOnSubmit","e","preventDefault","user","method","data","Alert","errorMessage","successMessage","textAlign","history","push","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Grid,\n  Button,\n  TextField,\n  CircularProgress,\n  Snackbar,\n} from \"@material-ui/core\";\n\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport useChangeInputConfig from \"../hooks/useInput\";\nimport useFetchAPI from \"../hooks/useFetchAPI\";\nimport CheckAuthCookie from \"../hooks/checkAuthCookie\";\nimport(\"./Auth.css\")\n\n\nfunction Auth(props) {\n  \n  // console.log(props);\n  // console.log(props.match);\n  let isLoginRoute = props.match.path === \"/login\";\n  let buttonTitle = isLoginRoute ? \"Login\" : \"Sign up\";\n  let apiURL = isLoginRoute ? \"/users/login\" : \"/users/create-user\";\n\n  const {checkIfCookieExists}= CheckAuthCookie()\n\n  const [\n    { isLoading, response, error, setResponse },\n    handleAPICallButtonSubmit,\n    isMessageOpen,\n    ,\n    handleMessageClose,\n    successMessageValue,\n  ] = useFetchAPI(apiURL);\n\n  const [\n    email,\n    handleEmailChange,\n    isEmailError,\n    emailErrorMessage,\n    isEmailDisbaled,\n    clearEmailInput,\n  ] = useChangeInputConfig(\"email\");\n\n  const [\n    username,\n    handleUsernameChange,\n    isUsernameError,\n    usernameErrorMessage,\n    isUsernameDisbaled,\n    clearUsernameInput,\n  ] = useChangeInputConfig(\"username\");\n\n  const [\n    password,\n    handlePasswordChange,\n    isPasswordError,\n    passwordErrorMessage,\n    isPasswordDisbaled,\n    clearPasswordInput,\n  ] = useChangeInputConfig(\"password\");\n\n  function handleOnSubmit(e) {\n    e.preventDefault();\n\n    const user = isLoginRoute\n      ? { email, password }\n      : { email, username, password };\n\n    handleAPICallButtonSubmit({\n      method: \"post\",\n      data: {\n        ...user,\n      },\n    });\n  }\n\n  function Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\n  function errorMessage() {\n    return (\n      <Snackbar\n        open={isMessageOpen}\n        autoHideDuration={6000}\n        onClose={handleMessageClose}\n      >\n        <Alert severity=\"error\">{error}</Alert>\n      </Snackbar>\n    );\n  }\n\n  function successMessage() {\n    return (\n      <Snackbar\n        open={isMessageOpen}\n        autoHideDuration={6000}\n        onClose={handleMessageClose}\n      >\n        <Alert severity=\"success\">{successMessageValue}</Alert>\n      </Snackbar>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <CircularProgress />\n      </div>\n    );\n  }\n\n  if (response === \"user created\") {\n    clearEmailInput();\n    clearUsernameInput();\n    clearPasswordInput();\n    setResponse(null);\n  }\n\n  if(checkIfCookieExists()){\n    props.history.push(\"/protected\")\n  }\n  return (\n    <div>\n             <p style={{color:\"red\"}}>AUTHORIZED LAW ENFORCEMENT USE ONLY!</p>\n             \n        <div className=\"background-wrap\">\n          <div className=\"background\" />\n        </div>\n        <form id=\"accesspanel\" onSubmit={handleOnSubmit}>\n          <h1 id=\"litheader\">PATRIOT CAD SYSTEMS</h1>\n          <div className=\"inset\">\n            <p>\n              <input \n              type=\"text\" \n              name=\"email\" \n              id=\"email\" \n              placeholder=\"Email address\" \n              value={email}\n              onChange={handleEmailChange}\n              \n              style={{color:\"green\"}} \n              helperText={emailErrorMessage}\n              />\n              {/* <div className=\"errorMessage\">{emailError && emailError}</div> */}\n            </p>\n            <p>\n              <input \n              type=\"password\" \n              name=\"password\" \n              id=\"password\" \n              placeholder=\"Access code\"\n              value={password} \n              onChange={handlePasswordChange}\n              style={{color:\"green\"}}\n              />\n              <div className=\"errorMessage\">\n                  {/* {passwordError && passwordError} */}\n            </div>\n            </p>\n            <div style={{textAlign: 'center'}}>\n              \n            </div>\n            <input className=\"loginLoginValue\" type=\"hidden\" name=\"service\" defaultValue=\"login\" />\n          </div>\n          <p className=\"p-container\">\n            <input type=\"submit\" name=\"Login\" id=\"go\" defaultValue=\"Authorize\" />\n          </p>\n        </form>\n      </div>\n  );\n}\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}